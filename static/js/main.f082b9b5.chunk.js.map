{"version":3,"sources":["components/Song.jsx","components/Library.jsx","utils.js","components/Player.jsx","components/Cover.jsx","App.js","index.js"],"names":["Song","songs","image","id","title","author","setCurrentSong","setIsPlaying","onClick","e","selected","filter","song","selectedSong","className","alt","src","Library","songList","map","item","getTime","time","sec_num","parseInt","Math","floor","v","i","join","Player","currentSong","isPlaying","setIsPaused","isPaused","audio","audioStream","React","useRef","inputRange","useState","currentTime","duration","songInfo","setSongInfo","handlerTime","current","target","trunc","value","step","onChange","handlerInput","ref","min","max","type","name","icon","faAngleLeft","size","pause","faPause","play","faPlay","faAngleRight","preload","onLoadedMetadata","onTimeUpdate","Cover","artist","classnames","App","color","uuid","active","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f082b9b5.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Song = ({ songs, image, id, title, author, setCurrentSong, setIsPlaying }) => {\r\n\r\n   const selectedSong = () => {\r\n      const selected = songs.filter(song => song.id === id)\r\n      setCurrentSong(selected[0])\r\n      setIsPlaying(false)\r\n   }\r\n\r\n   return (\r\n      <li onClick={(e) => selectedSong(e)} className=\"song\">\r\n         <img className=\"song__image\" alt={'Обложка альбома'} src={image} />\r\n         <div>\r\n            <h3 className=\"song__title\">{title}</h3>\r\n            <p className=\"song__author\">{author}</p>\r\n         </div>\r\n      </li>\r\n   );\r\n};\r\n\r\nexport default Song;\r\n","import React from 'react'\r\nimport Song from './Song.jsx'\r\n\r\nconst Library = ({ songs, setIsPlaying, setCurrentSong }) => {\r\n\r\n   const songList = songs.map(item =>\r\n      <Song\r\n         songs={songs}\r\n         setCurrentSong={setCurrentSong}\r\n         key={item.id}\r\n         image={item.image}\r\n         author={item.author}\r\n         title={item.title}\r\n         id={item.id}\r\n         setIsPlaying={setIsPlaying}\r\n      />);\r\n\r\n   return (\r\n      <div className=\"library\">\r\n         <h2 className=\"library__title\">Песни</h2>\r\n         <ul className=\"library__list\">\r\n            {songList}\r\n         </ul>\r\n      </div>\r\n   );\r\n};\r\n\r\nexport default Library;\r\n","import uuid from 'react-uuid';\r\n\r\nexport const getTime = (time) => {\r\n   let sec_num = parseInt(time, 10)\r\n   let hours = Math.floor(sec_num / 3600) % 24\r\n   let minutes = Math.floor(sec_num / 60) % 60\r\n   let seconds = sec_num % 60\r\n   return [hours, minutes, seconds]\r\n      .map(v => v < 10 ? \"0\" + v : v)\r\n      .filter((v, i) => v !== \"00\" || i > 0)\r\n      .join(\":\")\r\n   // if (time < 3600) {\r\n   //    return Math.floor(time / 60) + \":\" + (\"0\" + Math.floor(time % 60)).slice(-2)\r\n   // } else {\r\n   //    return Math.floor(time / 3600) % 24 + \":\" + Math.floor(time / 60) % 60 + \":\" + (\"0\" + Math.floor(time % 60)).slice(-2)\r\n   // }\r\n\r\n}\r\n\r\nexport const chilhop = () => {\r\n   return [\r\n      {\r\n         title: \"Slim Bobby\",\r\n         author: \"Aviino\",\r\n         image: \"https://chillhop.com/wp-content/uploads/2020/10/23fdd99adc3e16abcb67b004ea3e748ebf433a49-1024x1024.jpg\",\r\n         audio: \"https://mp3.chillhop.com/serve.php/?mp3=10454\",\r\n         color: [\"#b48484\", \"#506fc2\"],\r\n         id: uuid(),\r\n         active: false\r\n      },\r\n      {\r\n         title: \"Going Back\",\r\n         author: \"Swørn\",\r\n         image: \"https://chillhop.com/wp-content/uploads/2020/10/737bb830d34592344eb4a2a1d2c006cdbfc811d9-1024x1024.jpg\",\r\n         audio: \"https://mp3.chillhop.com/serve.php/?mp3=10310\",\r\n         color: [\"#b48484\", \"#61708c\"],\r\n         id: uuid(),\r\n         active: false\r\n      },\r\n      {\r\n         title: \"Serendipity\",\r\n         author: \"Philanthrope, The Field Tapes\",\r\n         image: \"https://chillhop.com/wp-content/uploads/2020/09/2899f7cc22ab12e17d0119819aac3ca9dbab46e6-1024x1024.jpg\",\r\n         audio: \"https://mp3.chillhop.com/serve.php/?mp3=10251\",\r\n         color: [\"#b48484\", \"#b35935\"],\r\n         id: uuid(),\r\n         active: false\r\n      },\r\n      {\r\n         title: \"Serendipity\",\r\n         author: \"Philanthrope, The Field Tapes\",\r\n         image: \"https://chillhop.com/wp-content/uploads/2020/09/6defa6c89a6902fdd84bccd720c2b8fd29c40990-1024x1024.jpg\",\r\n         audio: \"https://mp3.chillhop.com/serve.php/?mp3=9917\",\r\n         color: [\"#b48484\", \"#24887c\"],\r\n         id: uuid(),\r\n         active: false\r\n      }\r\n   ]\r\n}\r\n\r\n","import React from 'react';\r\nimport { getTime } from '../utils';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPlay, faAngleLeft, faAngleRight, faPause } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst Player = ({ currentSong, setIsPlaying, isPlaying, isPaused, setIsPaused }) => {\r\n\r\n   const { audio } = currentSong;\r\n   const audioStream = React.useRef(null);\r\n   const inputRange = React.useRef(null)\r\n   const [songInfo, setSongInfo] = React.useState({\r\n      currentTime: 0,\r\n      duration: 0\r\n   })\r\n\r\n   const handlerPlay = () => {\r\n      audioStream.current.play();\r\n      setIsPlaying(true)\r\n      setIsPaused(false)\r\n   };\r\n\r\n   const handlerPause = () => {\r\n      audioStream.current.pause()\r\n      setIsPlaying(false)\r\n      setIsPaused(true)\r\n   };\r\n\r\n   const handlerTime = (e) => {\r\n      const current = e.target.currentTime;\r\n      const duration = e.target.duration;\r\n      setSongInfo({\r\n         ...songInfo,\r\n         currentTime: Math.trunc(current),\r\n         duration: duration\r\n      });\r\n   };\r\n\r\n   const handlerInput = (e) => {\r\n\r\n      audioStream.current.currentTime = e.target.value\r\n      setSongInfo({\r\n         ...songInfo, currentTime: e.target.value\r\n      })\r\n   };\r\n\r\n   return (\r\n      <div className=\"player__wrapper\">\r\n         <h2>Плеер</h2>\r\n         <div className=\"timeControll\">\r\n            <p>{songInfo.duration ? getTime(songInfo.currentTime) : \"--:--\"}</p>\r\n\r\n            <input\r\n               value={songInfo.currentTime}\r\n               step=\"1\"\r\n               onChange={e => handlerInput(e)}\r\n               ref={inputRange}\r\n               min={0}\r\n               max={songInfo.duration || 100}\r\n               className=\"timeControll__input\"\r\n               type=\"range\"\r\n               name=\"\" id=\"\" />\r\n\r\n            <p>{songInfo.duration ? getTime(songInfo.duration) : \"--:--\"}</p>\r\n         </div>\r\n         <div className=\"playControll\">\r\n            <FontAwesomeIcon icon={faAngleLeft} size={\"2x\"} className={\"playControll__skipBack\"} />\r\n            {!isPlaying\r\n               ? <FontAwesomeIcon onClick={handlerPlay} icon={faPlay} size={\"3x\"} className={\"playControll__play\"} />\r\n               : <FontAwesomeIcon onClick={handlerPause} icon={faPause} size={\"3x\"} className={\"playControll__play\"} />}\r\n            <FontAwesomeIcon icon={faAngleRight} size={\"2x\"} className={\"playControll__skipForward\"} />\r\n         </div>\r\n         <audio preload={'true'} onLoadedMetadata={handlerTime} onTimeUpdate={handlerTime} ref={audioStream} src={audio}></audio>\r\n      </div>\r\n   );\r\n};\r\n\r\nexport default Player;\r\n","import React from 'react'\r\nimport classnames from 'classnames';\r\nconst Cover = ({ currentSong, isPlaying, isPaused }) => {\r\n\r\n   const { image, name, artist } = currentSong\r\n\r\n   return (\r\n      <div className=\"cover\">\r\n         <img className={classnames(\"cover__image\", isPlaying && \"cover__image_play\", isPaused && \"cover__image_paused\")}\r\n            src={image}\r\n            alt=\"Обложка альбома\" />\r\n         <h2 className=\"cover__title\">{name}</h2>\r\n         <h3 className=\"cover__artist\">{artist}</h3>\r\n      </div>\r\n   );\r\n};\r\n\r\nexport default Cover;\r\n","import React from 'react';\nimport Library from './components/Library';\nimport Player from './components/Player';\nimport Cover from './components/Cover';\nimport './scss/main.scss';\nimport { chilhop } from './utils';\n\nconst App = () => {\n  const [isPaused, setIsPaused] = React.useState(false)\n  const [isPlaying, setIsPlaying] = React.useState(false)\n  const [songs, setSongs] = React.useState(chilhop())\n  const [currentSong, setCurrentSong] = React.useState(songs[1])\n\n  return (\n    <div className=\"app\" >\n      <Cover isPlaying={isPlaying} isPaused={isPaused} currentSong={currentSong} />\n      <Player isPlaying={isPlaying} setIsPlaying={setIsPlaying} isPaused={isPaused} setIsPaused={setIsPaused} currentSong={currentSong} />\n      <Library setIsPlaying={setIsPlaying} setCurrentSong={setCurrentSong} songs={songs} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}