{"version":3,"sources":["components/Song.jsx","components/Library.jsx","utils.js","components/Player.jsx","components/Cover.jsx","components/Navigate.jsx","App.js","index.js"],"names":["Song","setSongs","songs","isPlaying","image","id","active","title","author","setCurrentSong","audioStream","selectedSong","a","selected","filter","song","current","play","newSongs","map","onClick","e","className","classNames","alt","src","Library","isPushed","setIsPlaying","songList","item","classnames","getTime","time","sec_num","parseInt","Math","floor","v","i","join","Player","currentSong","setSongInfo","songInfo","setIsPaused","React","useEffect","trackAnimate","transform","animatinPercent","trackBackground","background","color","activeLibrarySongHandler","nextSong","skipTrackHandler","direction","songIndex","findIndex","length","duration","currentTime","style","value","step","onChange","target","handlerInput","min","max","type","name","icon","faAngleLeft","size","pause","faPause","faPlay","faAngleRight","Cover","isPaused","Navigate","setIsPushed","console","log","faMusic","App","useState","audio","uuid","useRef","handlerTime","roundedCurrent","round","roundedDuration","roundedPercent","songEndHandler","onEnded","preload","onLoadedMetadata","onTimeUpdate","ref","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d672a063.chunk.js","sourcesContent":["import React from 'react';\r\nimport classNames from 'classnames';\r\n\r\nconst Song = ({ setSongs, songs, isPlaying, image, id, active, title, author, setCurrentSong, audioStream }) => {\r\n\r\n   const selectedSong = async () => {\r\n      const selected = songs.filter(song => song.id === id)\r\n      await setCurrentSong(selected[0])\r\n      if (isPlaying) audioStream.current.play()\r\n      // playSkipSong(isPlaying, audioStream)\r\n      const newSongs = songs.map(song => {\r\n         if (song.id === id) {\r\n            return { ...song, active: true }\r\n         } else {\r\n            return { ...song, active: false }\r\n         }\r\n      })\r\n      setSongs(newSongs)\r\n   };\r\n\r\n   return (\r\n      <li onClick={(e) => selectedSong(e)} className={classNames(\"song\", active && \"song_active\")}>\r\n         <img className=\"song__image\" alt={'Обложка альбома'} src={image} />\r\n         <div>\r\n            <h3 className=\"song__title\">{title}</h3>\r\n            <p className=\"song__author\">{author}</p>\r\n         </div>\r\n      </li>\r\n   );\r\n};\r\n\r\nexport default Song;\r\n","import React from 'react'\r\nimport Song from './Song.jsx'\r\nimport classnames from 'classnames';\r\nconst Library = ({ songs, isPushed, setSongs, isPlaying, setIsPlaying, setCurrentSong, audioStream }) => {\r\n\r\n   const songList = songs.map(item =>\r\n      <Song\r\n         setSongs={setSongs}\r\n         active={item.active}\r\n         audioStream={audioStream}\r\n         songs={songs}\r\n         setCurrentSong={setCurrentSong}\r\n         key={item.id}\r\n         image={item.image}\r\n         author={item.author}\r\n         title={item.title}\r\n         id={item.id}\r\n         isPlaying={isPlaying}\r\n         setIsPlaying={setIsPlaying}\r\n      />);\r\n\r\n   return (\r\n      <div className={classnames(\"library\", isPushed && \"library_active\")}>\r\n         <h2 className=\"library__title\">Песни</h2>\r\n         <ul className=\"library__list\">\r\n            {songList}\r\n         </ul>\r\n      </div>\r\n   );\r\n};\r\n\r\nexport default Library;\r\n","import uuid from 'react-uuid';\r\n// Get track time:\r\nexport const getTime = (time) => {\r\n   let sec_num = parseInt(time, 10)\r\n   let hours = Math.floor(sec_num / 3600) % 24\r\n   let minutes = Math.floor(sec_num / 60) % 60\r\n   let seconds = sec_num % 60\r\n   return [hours, minutes, seconds]\r\n      .map(v => v < 10 ? \"0\" + v : v)\r\n      .filter((v, i) => v !== \"00\" || i > 0)\r\n      .join(\":\")\r\n}\r\n\r\nexport const playSkipSong = async (state, audio) => {\r\n   if (state) {\r\n      try {\r\n         const promise = await audio.current.play()\r\n         audio.current.play()\r\n      } catch (er) {\r\n         console.log(er);\r\n      }\r\n   };\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// Database:\r\n\r\nexport const chilhop = () => {\r\n   return [\r\n      {\r\n         title: \"Slim Bobby\",\r\n         author: \"Aviino\",\r\n         image: \"https://chillhop.com/wp-content/uploads/2020/10/23fdd99adc3e16abcb67b004ea3e748ebf433a49-1024x1024.jpg\",\r\n         audio: \"https://mp3.chillhop.com/serve.php/?mp3=10454\",\r\n         color: [\"#b48484\", \"#506fc2\"],\r\n         id: uuid(),\r\n         active: false\r\n      },\r\n      {\r\n         title: \"Going Back\",\r\n         author: \"Swørn\",\r\n         image: \"https://chillhop.com/wp-content/uploads/2020/10/737bb830d34592344eb4a2a1d2c006cdbfc811d9-1024x1024.jpg\",\r\n         audio: \"https://mp3.chillhop.com/serve.php/?mp3=10310\",\r\n         color: [\"#b48484\", \"#61708c\"],\r\n         id: uuid(),\r\n         active: false\r\n      },\r\n      {\r\n         title: \"Serendipity\",\r\n         author: \"Philanthrope, The Field Tapes\",\r\n         image: \"https://chillhop.com/wp-content/uploads/2020/09/2899f7cc22ab12e17d0119819aac3ca9dbab46e6-1024x1024.jpg\",\r\n         audio: \"https://mp3.chillhop.com/serve.php/?mp3=10251\",\r\n         color: [\"#b48484\", \"#b35935\"],\r\n         id: uuid(),\r\n         active: false\r\n      },\r\n      {\r\n         title: \"Imagination\",\r\n         author: \"Montell Fish\",\r\n         image: \"https://chillhop.com/wp-content/uploads/2020/07/24bd0da848d9718fd19af104ff5c0b11f914cb25-1024x1024.jpg\",\r\n         audio: \"https://mp3.chillhop.com/serve.php/?mp3=9332\",\r\n         color: [\"#b48484\", \"#8e5360\"],\r\n         id: uuid(),\r\n         active: false\r\n      },\r\n      {\r\n         title: \"Paraglider\",\r\n         author: \"Kendall Miles, H E R B\",\r\n         image: \"https://chillhop.com/wp-content/uploads/2020/07/4fac6bb3a32f9e76b465990ba8d97d7db8a372f5-1024x1024.jpg\",\r\n         audio: \"https://mp3.chillhop.com/serve.php/?mp3=9318\",\r\n         color: [\"#b48484\", \"#af5332\"],\r\n         id: uuid(),\r\n         active: false\r\n      },\r\n      {\r\n         title: \"Tumbling\",\r\n         author: \"Swørn\",\r\n         image: \"https://chillhop.com/wp-content/uploads/2020/07/ff35dede32321a8aa0953809812941bcf8a6bd35-1024x1024.jpg\",\r\n         audio: \"https://mp3.chillhop.com/serve.php/?mp3=9225\",\r\n         color: [\"#b48484\", \"#8b3965\"],\r\n         id: uuid(),\r\n         active: false\r\n      },\r\n      {\r\n         title: \"Toft\",\r\n         author: \"Felty, Ezzy\",\r\n         image: \"https://chillhop.com/wp-content/uploads/2020/07/858b533ba20ff95bf5b401089b195d1a8cb43870-1024x1024.jpg\",\r\n         audio: \"https://mp3.chillhop.com/serve.php/?mp3=9312\",\r\n         color: [\"#edd9404\", \"#185e92\"],\r\n         id: uuid(),\r\n         active: false\r\n      },\r\n      {\r\n         title: \"Cruisin'\",\r\n         author: \"Cloudchord, G Mills\",\r\n         image: \"https://chillhop.com/wp-content/uploads/2020/07/8404541e3b694d16fd79433b142ed910f36764dd-1024x1024.jpg\",\r\n         audio: \"https://mp3.chillhop.com/serve.php/?mp3=8200\",\r\n         color: [\"#00585c\", \"#715653\"],\r\n         id: uuid(),\r\n         active: false\r\n      },\r\n      {\r\n         title: \"Slowdrive\",\r\n         author: \"Aviino\",\r\n         image: \"https://chillhop.com/wp-content/uploads/2020/07/aa103b43660077c66e65a1edc009844171bbd9c6-1024x1024.jpg\",\r\n         audio: \"https://mp3.chillhop.com/serve.php/?mp3=9484\",\r\n         color: [\"#51688c\", \"#cf9cba\"],\r\n         id: uuid(),\r\n         active: false\r\n      },\r\n      {\r\n         title: \"Onteora Lake\",\r\n         author: \"Stan Forebee, Kyle McEvoy\",\r\n         image: \"https://chillhop.com/wp-content/uploads/2020/07/38147ead546d4fcc613080507497fe5502a5a241-1024x1024.jpg\",\r\n         audio: \"https://mp3.chillhop.com/serve.php/?mp3=8787\",\r\n         color: [\"#ffd6ba\", \"#118084\"],\r\n         id: uuid(),\r\n         active: false\r\n      },\r\n\r\n   ]\r\n}\r\n\r\n","import React from 'react';\r\nimport { getTime } from '../utils';\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPlay, faAngleLeft, faAngleRight, faPause } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst Player = ({\r\n   songs,\r\n   setSongs,\r\n   currentSong,\r\n   setCurrentSong,\r\n   setIsPlaying,\r\n   isPlaying,\r\n   audioStream,\r\n   setSongInfo,\r\n   songInfo,\r\n   setIsPaused }) => {\r\n\r\n   React.useEffect(() => {\r\n      const newSongs = songs.map(song => {\r\n         if (song.id === currentSong.id) {\r\n            return { ...song, active: true }\r\n         } else {\r\n            return { ...song, active: false }\r\n         }\r\n      })\r\n      setSongs(newSongs)\r\n   }, [currentSong])\r\n\r\n   const trackAnimate = {\r\n      transform: `translateX(${songInfo.animatinPercent}%)`,\r\n\r\n   }\r\n   const trackBackground = {\r\n      background: `linear-gradient(to right, ${currentSong.color[0]}, ${currentSong.color[1]})`\r\n   }\r\n\r\n\r\n   // Play =>\r\n   const handlerPlay = () => {\r\n      audioStream.current.play();\r\n      setIsPlaying(true)\r\n      setIsPaused(false)\r\n   };\r\n\r\n   // Pause =>\r\n   const handlerPause = () => {\r\n      audioStream.current.pause()\r\n      setIsPlaying(false)\r\n      setIsPaused(true)\r\n   };\r\n\r\n   // Time skip =>\r\n   const handlerInput = (e) => {\r\n      audioStream.current.currentTime = e.target.value\r\n      setSongInfo({\r\n         ...songInfo, currentTime: e.target.value\r\n      })\r\n   };\r\n\r\n   const activeLibrarySongHandler = (nextSong) => {\r\n      const newSongs = songs.map(song => {\r\n         if (song.id === nextSong.id) {\r\n            return { ...song, active: true }\r\n         } else {\r\n            return { ...song, active: false }\r\n         }\r\n      })\r\n      setSongs(newSongs);\r\n   };\r\n\r\n\r\n   const skipTrackHandler = async (direction) => {\r\n      let songIndex = songs.findIndex(song => song.id === currentSong.id);\r\n      if (direction === 'forward') {\r\n         await setCurrentSong(songs[(songIndex + 1) % songs.length]);\r\n         activeLibrarySongHandler(songs[(songIndex + 1) % songs.length]);\r\n      }\r\n      if (direction === 'back') {\r\n         if ((songIndex - 1) % songs.length === -1) {\r\n            await setCurrentSong(songs[songs.length - 1]);\r\n            activeLibrarySongHandler(songs[songs.length - 1]);\r\n            if (isPlaying) audioStream.current.play();\r\n            return\r\n         }\r\n         await setCurrentSong(songs[(songIndex - 1) % songs.length]);\r\n         activeLibrarySongHandler(songs[songs.length - 1]);\r\n      }\r\n      if (isPlaying) audioStream.current.play();\r\n\r\n   };\r\n\r\n\r\n   return (\r\n      <div className=\"player__wrapper\">\r\n         <div className=\"timeControll\">\r\n            <p>{songInfo.duration ? getTime(songInfo.currentTime) : \"--:--\"}</p>\r\n            <div style={trackBackground} className=\"timeControll__track\">\r\n               <input\r\n                  value={songInfo.currentTime}\r\n                  step=\"1\"\r\n                  onChange={e => handlerInput(e)}\r\n                  min={0}\r\n                  max={songInfo.duration || 100}\r\n                  className=\"timeControll__input\"\r\n                  type=\"range\"\r\n                  name=\"\" id=\"\" />\r\n               <div style={trackAnimate} className=\"timeControll__animate-track\"></div>\r\n            </div>\r\n            <p>{songInfo.duration ? getTime(songInfo.duration) : \"--:--\"}</p>\r\n         </div>\r\n         <div className=\"playControll\">\r\n            <FontAwesomeIcon onClick={() => skipTrackHandler('back')} icon={faAngleLeft} size={\"3x\"} className={\"playControll__skipBack\"} />\r\n            {!isPlaying\r\n               ? <FontAwesomeIcon onClick={handlerPlay} icon={faPlay} size={\"3x\"} className={\"playControll__play\"} />\r\n               : <FontAwesomeIcon onClick={handlerPause} icon={faPause} size={\"3x\"} className={\"playControll__play\"} />}\r\n            <FontAwesomeIcon onClick={() => skipTrackHandler('forward')} icon={faAngleRight} size={\"3x\"} className={\"playControll__skipForward\"} />\r\n         </div>\r\n\r\n      </div>\r\n   );\r\n};\r\n\r\nexport default Player;\r\n","import React from 'react'\r\nimport classnames from 'classnames';\r\nconst Cover = ({ currentSong, isPlaying, isPaused }) => {\r\n\r\n   const { image, title, author } = currentSong\r\n\r\n   return (\r\n      <div className=\"cover\">\r\n         <img className={classnames(\"cover__image\", isPlaying && \"cover__image_play\", isPaused && \"cover__image_paused\")}\r\n            src={image}\r\n            alt=\"Обложка альбома\" />\r\n         <h2 className=\"cover__title\">{title}</h2>\r\n         <h3 className=\"cover__artist\">{author}</h3>\r\n      </div>\r\n   );\r\n};\r\n\r\nexport default Cover;\r\n","import React from 'react'\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMusic } from \"@fortawesome/free-solid-svg-icons\";\r\nimport classnames from 'classnames';\r\n\r\nconst Navigate = ({ isPushed, setIsPushed }) => {\r\n\r\n   const handlerToggle = () => {\r\n      console.log('yo');\r\n      setIsPushed(!isPushed)\r\n   }\r\n\r\n\r\n\r\n   return (\r\n      <nav className=\"navigate\">\r\n         <h1 className=\"navigate__title\">Chilhop club</h1>\r\n         <button onClick={handlerToggle} className={classnames(\"navigate__button\", isPushed && \"navigate__button_active\")}>\r\n            Песни\r\n            <FontAwesomeIcon icon={faMusic} />\r\n         </button>\r\n      </nav>\r\n   )\r\n}\r\n\r\nexport default Navigate\r\n","import React from 'react';\nimport Library from './components/Library';\nimport Player from './components/Player';\nimport Cover from './components/Cover';\nimport './scss/main.scss';\nimport { chilhop } from './utils';\nimport Navigate from './components/Navigate';\n\nconst App = () => {\n\n  const [isPushed, setIsPushed] = React.useState(false)\n  const [isPaused, setIsPaused] = React.useState(false);\n  const [isPlaying, setIsPlaying] = React.useState(false);\n  const [songs, setSongs] = React.useState(chilhop());\n  const [currentSong, setCurrentSong] = React.useState(songs[0]);\n  const [songInfo, setSongInfo] = React.useState({ currentTime: 0, duration: 0, animatinPercent: 0 })\n  const audioStream = React.useRef(null);\n\n  const handlerTime = (e) => {\n    const current = e.target.currentTime;\n    const duration = e.target.duration;\n    const roundedCurrent = Math.round(current)\n    const roundedDuration = Math.round(duration)\n    const roundedPercent = Math.round((roundedCurrent / roundedDuration) * 100)\n    console.log(roundedCurrent, roundedDuration, roundedPercent);\n    setSongInfo({\n      ...songInfo,\n      currentTime: current,\n      duration: duration,\n      animatinPercent: roundedPercent\n    });\n  };\n\n  const songEndHandler = async () => {\n    let songIndex = songs.findIndex(song => song.id === currentSong.id)\n    await setCurrentSong(songs[(songIndex + 1) % songs.length])\n    if (isPlaying) audioStream.current.play()\n\n\n  }\n\n\n  return (\n    <div className=\"app\" >\n      <Navigate isPushed={isPushed} setIsPushed={setIsPushed} />\n      <Cover isPlaying={isPlaying} isPaused={isPaused} currentSong={currentSong} />\n      <Player setSongs={setSongs} currentSong={currentSong} setCurrentSong={setCurrentSong} songs={songs} songInfo={songInfo} setSongInfo={setSongInfo} audioStream={audioStream} isPlaying={isPlaying} setIsPlaying={setIsPlaying} setIsPaused={setIsPaused} />\n      <Library isPushed={isPushed} setSongs={setSongs} audioStream={audioStream} setIsPlaying={setIsPlaying} isPlaying={isPlaying} setCurrentSong={setCurrentSong} songs={songs} />\n      <audio onEnded={songEndHandler} preload={'true'} onLoadedMetadata={handlerTime} onTimeUpdate={handlerTime} ref={audioStream} src={currentSong.audio}></audio>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}